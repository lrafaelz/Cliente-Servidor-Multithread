{% extends 'base.html' %}
{% block content %}

<!-- botão para iniciar o servidor centralizado -->
<div class="container text-center my-4">
  <!-- se serverIsRunning for verdadeiro, exibir botão para fechar servidor se for falso exibir botão para iniciar servidor -->
  {% if serverIsRunning %}
    <a href="/stop_server" class="btn btn-danger">Fechar servidor</a>
  {% else %}
    <a href="/start_server" class="btn btn-primary">Iniciar servidor</a>
  {% endif %}
</div>

<h3 class="text-center my-4">Histórico acessos por clientes</h3>
<div class="accordion" id="accordionExample">
  {% for result in results %}
  <div class="accordion-item">
    <h2 class="accordion-header" id="heading{{ result.cliente }}">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{ result.cliente }}" aria-expanded="true" aria-controls="collapse{{ result.cliente }}">
        Cliente {{ result.cliente }}
      </button>
    </h2>
    <div id="collapse{{ result.cliente }}" class="accordion-collapse collapse" aria-labelledby="heading{{ result.cliente }}" data-bs-parent="#accordionExample">
      <div class="accordion-body">
        <ul>
          <li>Timestamp: {{ result.timestamp }}</li>
          <li>Soma dos pares: {{ result.soma_pares }}</li>
          <li>Soma dos ímpares: {{ result.soma_impares }}</li>
          <li>Valor de pi: {{ result.pi }}</li>
        </ul>
      </div>
    </div>
  </div>
  {% endfor %}


{% endblock content %}